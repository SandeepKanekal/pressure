# Pressure and Fluid Flow

This repository contains a LaTeX manuscript and companion Python simulations used to produce figures and animations for studying pressure and fluid flow phenomena.

- Manuscript: [main.tex](main.tex) with bibliography [ref.bib](ref.bib).
- Simulations: [flow-simulations](flow-simulations) with scripts and a minimal [requirements.txt](flow-simulations/requirements.txt).
- Outputs: images in [flow-simulations/images](flow-simulations/images) and animations in [flow-simulations/videos](flow-simulations/videos) for inclusion in the manuscript.

## Repository Layout

```
Pressure and Fluid Flow/
├── main.tex               # LaTeX source
├── ref.bib                # Bibliography
├── main.aux, main.bbl, ...  # LaTeX build artifacts (auto-generated)
└── flow-simulations/
    ├── burgers1d.py              # 1D Burgers (finite difference; saves videos/burgers1d.mp4)
    ├── burgers1d_spectral.py     # 1D Burgers (Fourier–Galerkin; compares two ν values)
    ├── stable_turbulence.py      # Forced 1D Burgers to maintain steady turbulence; spectra and dissipation
    ├── incompressible_2D_NS.py   # 2D incompressible NS (vorticity, spectral); KE & enstrophy time series
    ├── structure_function.py     # Structure functions S1, S2, S3 with scaling exponents
    ├── turbulence_with_linearfriction_2D.py # 2D incompressible NS with linear friction and forcing; steady-state spectra
    ├── images/                   # Optional figures
    └── videos/                   # Animation outputs (*.mp4)
```

## Requirements

- LaTeX: A TeX distribution (TeX Live/MacTeX) with `latexmk` configured.
- Python: Version 3.x with packages listed in [flow-simulations/requirements.txt](flow-simulations/requirements.txt).

Install the Python dependencies:

```bash
pip install -r flow-simulations/requirements.txt
```

## Build the Manuscript

Use `latexmk` to compile the document. It will run the appropriate bibliography tools automatically.

```bash
latexmk -pdf main.tex
```

If you prefer manual steps, you can run `pdflatex` followed by the bibliography tool used by your setup (e.g., `biber`), then `pdflatex` again.

## Run the Simulations

From the repository root, run any script directly:

```bash
python3 flow-simulations/burgers1d.py
python3 flow-simulations/burgers1d_spectral.py
python3 flow-simulations/stable_turbulence.py
python3 flow-simulations/incompressible_2D_NS.py
python3 flow-simulations/structure_function.py
```

- Animations are saved as MP4 files under [flow-simulations/videos](flow-simulations/videos).
- You can adjust parameters (`N`, `nu`, `tmax`, `CFL`, etc.) near the top of each script.
- See the per-folder documentation: [flow-simulations/README.md](flow-simulations/README.md).

## Include Outputs in LaTeX

- Figures: Save PNG/PDF images in [flow-simulations/images](flow-simulations/images) and reference them in [main.tex](main.tex) using `\includegraphics{flow-simulations/images/your_figure}`.
- Animations: MP4s can be embedded via packages such as `media9` or converted to image sequences for the `animate` package.

Example for including a figure:

```latex
\begin{figure}[t]
  \centering
  \includegraphics[width=0.9\linewidth]{flow-simulations/images/example.png}
  \caption{Example figure generated by a simulation.}
\end{figure}
```

## Reproducibility Tips

- For different regimes, vary resolution (`N`), viscosity (`nu`), and runtime (`tmax`).
- For deterministic runs, avoid stochastic forcing scripts or adapt them to use fixed random seeds.
- Validate numerical stability by monitoring energy and dissipation plots.

## Notes

- Build artifacts like `main.aux`, `main.bbl`, `main.bcf`, and `main.run.xml` are generated during LaTeX compilation.
- The `.gitignore` already excludes common LaTeX artifacts; animations and images are included by design.
